# 교통사고 과실비율 측정 및 사고 보고서 생성 서비스: Accident_Ratio.pdf

2025 1학기 울산대학교 IT융합학부 산학협력프로젝트캡스톤디자인

<br>

## 1. 프로젝트 개요

**Accident_Ratio.pdf** 는 교통사고 당시 사고 영상을 기반으로 사고 객체 탐지, 사고 유형 분류 및 해당 사고의 정보를 담은 보고서를 작성하는 서비스입니다. 

<div align="center">
    <img src="https://github.com/user-attachments/assets/f96da286-a555-460f-b949-d78d9df65238">
</div>

[`OpenMMLab`](https://github.com/open-mmlab)의 오픈 라이브러리인 [`mmdetection`](https://github.com/open-mmlab/mmdetection), [`mmaction2`](https://github.com/open-mmlab/mmaction2) 모델을 활용하여 교통사고 상황 당시 블랙박스 영상을 **Fine-Tuning** 시켜 객체 검출 및 사고 분류 모델을 제작. 해당 모델은 블랙박스 영상의 객체 및 4가지 정보(사고 유형, 사고 장소 유형, 객체 A의 진행 방향, 객체 B의 진행 방향)를 추출한다. 추출된 정보는 랭체인 기술을 이용해 손해보험협회의 [자동차사고 과실비율 인정기준](https://accident.knia.or.kr/index)과 비교하여 인정 과실비율을 산정. 이후 사고 상황, 과실비율 분석, 판정 근거, 관련 법률 등의 정보를 제공하는 보고서를 생성한다.

### 개발 배경

- 해마다 교통사고 건수는 약 20만건 정도 발생(한국도로교통공단 교통사고분석시스템 24년 기준), 과실비율 산정 청구 건수 또한 해마다 증가하는 추세(23년 기준 약 13만건, 손해보험협회)
- 현재 과실비율 산정 절차는 매우 까다롭고 복잡함. (사고 분석 1건당 평균적으로 2주 ~ 2개월의 시간 소요)
- 법률 및 제도의 빈번한 변경, 법원 판례의 일관성 부족, 해석의 다양성 등의 이유로 과실비율 판정에 어려움.
- 이들의 문제를 해결하기 위해 AI 과실비율 산정 모델을 개발, 산정된 과실비율을 바탕으로 일반인들도 이해하기 쉬운 사고 요약 보고서 생성 서비스를 기획하게 되었다.

![개발배경](https://github.com/user-attachments/assets/92e6bfb2-f473-4773-b942-ad84be4fd7a9)

### 기대 효과

- 사고 처리 시간 단축 및 사회적 비용 감소
- AI는 사고 당시 블랙박스 영상을 학습하여 신속한 과실비율 산정
- AI는 새로운 법률과 판례를 학습하여 과실비율을 객관적으로 산정

<br>

## 2. 프로젝트 기능

1. 사고 영상 제출
    - 사고 상황 당시에 녹화된 블랙박스 영상(사고 시점으로 부터 전후 5초)을 제출

2. 영상 데이터 수집 (프레임 단위로 추출)
    - 제출한 영상을 프레임 단위로 추출

3. 프레임 단위로 영상 내 사고 객체 인식
    - 각 프레임 마다 사고장면의 객체를 인식

4. 프레임 단위로 영상 내 사고 유형 분류
    - 4개의 분류 모델을 연결하여 4가지 정보(사고 유형, 사고 장소 유형, 객체 A의 진행 방향, 객체 B의 진행 방향) 동시 추출

5. 추출된 정보를 바탕으로 과실 비율 산정

6. 산정된 과실 비율과 산정 근거, 사고 상황 설명, 관련된 법률 등의 정보를 제공하는 보고서 작성 및 생성
    - 랭체인 기법으로 보고서 생성

<br>

## 3. 시스템 다이어그램

![시스템 다이어그램](https://github.com/user-attachments/assets/96b8c8d1-05c9-41cb-adfa-b8cea50ab252)

<br>

## 4. 모델 상세 소개

### 객체 탐지 (Object Detection)
- DetectoRS 알고리즘을 이용하여 9종(자동차, 보행자, 이륜차, 자전거 표지판, 신호등(적색), 신호등(청색), 신호등(기타), 횡단보도)의 객체를 검출

### 사고 영상 분류 (Video Classification)
- 4개의 직렬연결 VTN 알고리즘을 이용하여 영상에서 사고 정보 4가지를 추출


### 랭체인 (LangChain)
- RAG 파이프라인 기반
- 사고 정보를 기반으로 손해보험협회에서 제공한 `자동차사고 과실비율 인정기준.pdf`와 국가법령정보센터에서 제공한 `도로교통법.pdf`에서 검색
- 프롬프트를 바탕으로 원하는 정보를 추출
- 추출한 정보를 기반으로 보고서 생성

<br>

## 5. 테스트 성능 지표

<br>

## 6. 시연 영상